<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ninety9 Store</title>
<link href="https://fonts.googleapis.com/css2?family=New+York+Style:wght@400;700&display=swap" rel="stylesheet">
<style>
body { margin:0; padding:0; font-family:'New York Style', sans-serif; color:#c0c0c0; background-color:#000; background-image: url('2d.png'); background-size: cover; background-position:center; display:flex; flex-direction:column; align-items:center; min-height:100vh; }
/* Loader */
#loader { position:fixed; top:0; left:0; width:100%; height:100%; background:#000; display:flex; justify-content:center; align-items:center; z-index:2000; flex-direction:column; color:#fff; }
#loader img { width:120px; height:120px; animation: rotate360 2s linear infinite; }
@keyframes rotate360 { from{transform:rotate(0deg);} to{transform:rotate(360deg);} }

.main-content { display:none; flex-direction:column; align-items:center; width:100%; }

.instagram-name { font-size:36px; font-weight:900; color:silver; text-shadow: 0 0 5px #fff,0 0 10px #aaa; margin-top:20px; display:flex; align-items:center; gap:10px; flex-direction:column; }
.instagram-name img { width:60px; height:60px; animation: rotate360 3s linear infinite; }

.tagline { font-size:20px; font-weight:bold; margin:10px 0 30px 0; color:silver; text-align:center; text-shadow: 0 0 5px #fff; }
.clock { font-size:28px; font-weight:bold; margin-bottom:30px; color:silver; }
.products-grid { display:grid; grid-template-columns: repeat(2, 1fr); gap:20px; width:90%; max-width:800px; margin-bottom:30px; }
.product-card { background-color:rgba(50,50,50,0.8); padding:10px; border-radius:15px; text-align:center; position:relative; cursor:pointer; transition: transform 0.2s; }
.product-card:hover { transform: scale(1.05); }
.product-card img { width:100%; height:150px; object-fit:cover; border-radius:10px; }
.product-card h3 { margin:10px 0 5px 0; font-size:18px; color:silver; }
.product-card p { margin:0 0 10px 0; font-size:16px; color:silver; }
.cart-container { margin-bottom:30px; width:90%; max-width:600px; background:rgba(30,30,30,0.9); padding:20px; border-radius:15px; }
.cart-container h3 { margin-top:0; color:silver; }
.cart-item { display:flex; justify-content:space-between; margin:5px 0; color:silver; }
.checkout { margin-top:15px; padding:12px; background-color:silver; color:black; font-weight:bold; border:none; border-radius:10px; cursor:pointer; width:100%; font-size:16px; }
.checkout:hover { background-color:#fff; transform:scale(1.02); }
.modal { display:none; position:fixed; top:0; left:0; width:100%; height:100%; background: rgba(0,0,0,0.95); justify-content:center; align-items:center; z-index:1000; }
.modal-content { background:rgba(20,20,20,1); padding:30px; border-radius:15px; text-align:center; color:silver; max-width:400px; }
.modal-content img { width:100%; height:auto; border-radius:10px; margin-bottom:10px; }
.size-btn, .color-btn { padding:10px 15px; margin:5px; border:none; border-radius:8px; cursor:pointer; font-weight:bold; color:#fff; transition: 0.2s; }
.size-btn { background:#555; }
.size-btn:hover { background:#777; }
.color-btn.black { background:#000; }
.color-btn.white { background:#fff; color:#000; }
.color-btn:hover { opacity:0.8; }
.checkout-form input, .checkout-form textarea, .checkout-form select { width:100%; margin-bottom:10px; padding:8px; border-radius:5px; border:none; }
.close-btn { margin-top:10px; padding:10px 20px; background:silver; color:black; border:none; border-radius:10px; cursor:pointer; font-weight:bold; }
.close-btn:hover { background:#fff; transform:scale(1.05); }
.thankyou { display:none; margin-top:20px; padding:15px; background:#111; border-radius:12px; text-align:center; font-weight:600; color:#fff; font-size:18px; box-shadow: 0 0 10px #888; }
.paymentBox { display:flex; align-items:center; gap:10px; margin-top:10px; }
.paymentBox img { width:24px; height:24px; }
.terms { display:flex; align-items:center; margin-top:10px; gap:10px; }
</style>
</head>
<body>

<!-- Loader -->
<div id="loader">
  <img src="3d.png" alt="Logo">
  <p>Loading...</p>
</div>

<!-- Main content -->
<div class="main-content">
  <div class="instagram-name">
    Ninety9.egy <img src="ig.png" style="width:30px;height:30px;">
    <img src="3d.png" style="width:60px;height:60px; animation: rotate360 3s linear infinite; margin-top:10px;">
  </div>

  <div class="tagline">This isn't just any brand</div>

  <div class="clock" id="clock">00:00:00</div>

  <div class="products-grid" id="productsGrid"></div>

  <div class="cart-container">
    <h3>Cart</h3>
    <div id="cartItems"></div>
    <p>Total: <span id="cartTotal">0</span> EGP</p>
    <button class="checkout" id="checkoutBtn">Checkout</button>
  </div>

  <!-- Product modal -->
  <div class="modal" id="productModal">
    <div class="modal-content" id="productModalContent">
      <img id="modalImg" src="" alt="Product">
      <h3 id="modalName"></h3>
      <p id="modalPrice"></p>
      <div>
        <strong>Size:</strong>
        <button class="size-btn" data-size="L">L</button>
        <button class="size-btn" data-size="XL">XL</button>
        <button class="size-btn" data-size="XXL">XXL</button>
      </div>
      <div>
        <strong>Color:</strong>
        <button class="color-btn black" data-color="Black"></button>
        <button class="color-btn white" data-color="White"></button>
      </div>
      <button class="close-btn" id="closeProductModal">Close</button>
    </div>
  </div>

  <!-- Checkout modal -->
  <div class="modal" id="checkoutModal">
    <div class="modal-content">
      <h3>Checkout</h3>
      <form id="checkoutForm" class="checkout-form">
        <input type="text" id="name" placeholder="Full Name" required>
        <div class="paymentBox">
          <input type="tel" id="phone" placeholder="Phone Number" required style="flex:1;">
          <img src="e.png" style="width:24px;height:24px;">
        </div>
        <select id="paymentMethod" required>
          <option value="">Select Payment Method</option>
          <option value="wallet">Wallet Transfer</option>
          <option value="cash">Cash on Delivery</option>
        </select>
        <select id="governorate" required>
          <option value="">Select Governorate</option>
          <option value="Giza">Giza</option>
          <option value="Cairo">Cairo</option>
        </select>
        <select id="area" required>
          <option value="">Select Area</option>
        </select>
        <textarea id="address" placeholder="Full Address" required></textarea>
        <input type="text" id="building" placeholder="Building / Villa Number" required>
        <input type="text" id="apartment" placeholder="Apartment Number" required>
        <input type="file" id="paymentProof" required>
        <div class="terms">
          <input type="checkbox" id="terms"> <label for="terms">I agree to Terms & Conditions</label>
        </div>
        <p>Pay to wallet number: 01144108775 <img src="e.png" style="width:24px;height:24px;"></p>
        <button type="submit" class="close-btn">Submit Order</button>
      </form>
      <button class="close-btn" id="closeCheckoutModal">Close</button>
      <div class="thankyou" id="thankyouMsg">Thank you for your trust in 99</div>
    </div>
  </div>
</div>

<script>
window.addEventListener('load',()=>{ 
  document.getElementById('loader').style.display='none';
  document.querySelector('.main-content').style.display='flex';
});

/* Clock */
function updateClock(){
  const now = new Date();
  const h = String(now.getHours()).padStart(2,'0');
  const m = String(now.getMinutes()).padStart(2,'0');
  const s = String(now.getSeconds()).padStart(2,'0');
  document.getElementById('clock').textContent = `${h}:${m}:${s}`;
}
setInterval(updateClock,1000);
updateClock();

/* Products */
const products = [
  {id:1,name:"T-shirt 99 Over Sized",price:650,img:"T.png",sold:false},
  {id:2,name:"Sweet Pants 99",price:750,img:"Sweet.png",sold:false},
];

let cart = [];
const productsGrid = document.getElementById('productsGrid');
const cartItems = document.getElementById('cartItems');
const cartTotal = document.getElementById('cartTotal');
const productModal = document.getElementById('productModal');
const modalImg = document.getElementById('modalImg');
const modalName = document.getElementById('modalName');
const modalPrice = document.getElementById('modalPrice');
let currentProduct=null;
let selectedSize=null;
let selectedColor=null;

function renderProducts(){
  productsGrid.innerHTML='';
  products.forEach(p=>{
    const card=document.createElement('div');
    card.className='product-card';
    card.innerHTML=`<img src="${p.img}" alt="${p.name}"><h3>${p.name}</h3><p>${p.price} EGP</p>`;
    card.onclick=()=>{
      currentProduct=p;
      modalImg.src=p.img;
      modalName.textContent=p.name;
      modalPrice.textContent=p.price+' EGP';
      productModal.style.display='flex';
    };
    productsGrid.appendChild(card);
  });
}

document.querySelectorAll('.size-btn').forEach(btn=>{
  btn.onclick=()=>{ selectedSize=btn.dataset.size; tryAddToCart(); }
});
document.querySelectorAll('.color-btn').forEach(btn=>{
  btn.onclick=()=>{ selectedColor=btn.dataset.color; tryAddToCart(); }
});

function tryAddToCart(){
  if(currentProduct && selectedSize && selectedColor){
    cart.push({...currentProduct,size:selectedSize,color:selectedColor});
    renderCart();
    selectedSize=null;
    selectedColor=null;
    currentProduct=null;
    productModal.style.display='none';
    alert("Added to cart!");
  }
}

document.getElementById('closeProductModal').onclick=()=>{ productModal.style.display='none'; }

function renderCart(){
  cartItems.innerHTML='';
  let total=0;
  cart.forEach(item=>{
    const div=document.createElement('div');
    div.className='cart-item';
    div.textContent=`${item.name} - ${item.size} - ${item.color} - ${item.price} EGP`;
    cartItems.appendChild(div);
    total+=item.price;
  });
  cartTotal.textContent=total;
}

const checkoutBtn=document.getElementById('checkoutBtn');
const checkoutModal=document.getElementById('checkoutModal');
const closeCheckoutModal=document.getElementById('closeCheckoutModal');
const checkoutForm=document.getElementById('checkoutForm');
const governorateSelect=document.getElementById('governorate');
const areaSelect=document.getElementById('area');
const thankyouMsg=document.getElementById('thankyouMsg');

const areas={
  "Giza":["6th of October","El Shikh Zayed","Imbaba","El Agouza","El Zamalek","Bolaq El Dakror","Bolaq Abu El Ella","Dokii"],
  "Cairo":["Tgamoo","Nasr City","Maadi"]
};

governorateSelect.addEventListener('change',()=>{
  const gov=governorateSelect.value;
  areaSelect.innerHTML='<option value="">Select Area</option>';
  if(areas[gov]){
    areas[gov].forEach(a=>{
      const opt=document.createElement('option');
      opt.value=a; opt.textContent=a;
      areaSelect.appendChild(opt);
    });
  }
});

checkoutBtn.onclick=()=>{
  if(cart.length===0){ alert("Cart is empty!"); return;}
  checkoutModal.style.display='flex';
}

closeCheckoutModal.onclick=()=>{ checkoutModal.style.display='none'; }

checkoutForm.onsubmit=(e)=>{
  e.preventDefault();
  if(!document.getElementById('terms').checked){ alert("You must agree to Terms & Conditions"); return;}
  const shipping=governorateSelect.value==="Giza"?75:100;
  const total=cart.reduce((sum,item)=>sum+item.price,0)+shipping;
  alert("Order submitted!\nTotal: "+total+" EGP\nThank you for your trust in 99");
  checkoutModal.style.display='none';
  cart=[];
  renderCart();
  thankyouMsg.style.display='block';
}

renderProducts();
</script>
</body>
</html>
