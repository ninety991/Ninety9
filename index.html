<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ninety9 Store</title>

<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;800&display=swap" rel="stylesheet">

<style>
body{
margin:0;
font-family:Poppins;
background:#000 url("2d.png") center/cover no-repeat;
color:white;
text-align:center;
}

.instagram{
font-size:36px;
font-weight:800;
margin-top:20px;
display:flex;
justify-content:center;
align-items:center;
gap:10px;
}

.instagram img{width:34px;}

.logo img{
width:110px;
animation:spin 6s linear infinite;
}

@keyframes spin{
from{transform:rotate(0deg);}
to{transform:rotate(360deg);}
}

.clock{
font-size:24px;
margin:10px 0 30px;
}

.products{
display:grid;
grid-template-columns:1fr 1fr;
gap:20px;
width:90%;
margin:auto;
}

.card{
background:#111;
border-radius:20px;
padding:15px;
}

.card img{
width:100%;
border-radius:15px;
}

button{
background:silver;
border:none;
padding:10px;
border-radius:10px;
cursor:pointer;
margin-top:10px;
font-weight:600;
}

.cart{
width:90%;
margin:40px auto;
background:#111;
padding:20px;
border-radius:20px;
}

.modal{
display:none;
position:fixed;
width:100%;
height:100%;
background:rgba(0,0,0,0.9);
top:0;
left:0;
justify-content:center;
align-items:center;
}

.modal-box{
background:#111;
padding:25px;
border-radius:20px;
width:330px;
text-align:left;
}

.size-btn,.color-btn{
padding:8px 12px;
margin:5px;
border:none;
border-radius:8px;
cursor:pointer;
}

.size-btn{background:#333;color:white;}
.color-btn.black{background:black;}
.color-btn.white{background:white;color:black;}

.thanks{
background:black;
border:1px solid silver;
padding:20px;
border-radius:15px;
margin-top:20px;
text-align:center;
}

.thanks img{
width:70px;
margin-bottom:10px;
}
</style>
</head>

<body>

<div class="instagram">
<img src="ig.png">
Ninety9.egy
</div>

<div class="logo">
<img src="3d.png">
</div>

<div class="clock" id="clock"></div>

<div class="products" id="products"></div>

<div class="cart">
<h3>Cart</h3>
<div id="cartItems"></div>
<p>Total: <span id="total">0</span> EGP</p>
<button id="checkoutBtn">Checkout</button>
</div>

<!-- اختيار المنتج -->
<div class="modal" id="productModal">
<div class="modal-box">

<h3 id="productName"></h3>

<p>Size</p>
<button class="size-btn">L</button>
<button class="size-btn">XL</button>
<button class="size-btn">XXL</button>

<p>Color</p>
<button class="color-btn black"></button>
<button class="color-btn white"></button>

<button id="addToCart">Add To Cart</button>

</div>
</div>

<!-- CHECKOUT -->
<div class="modal" id="checkoutModal">
<div class="modal-box">

<form id="checkoutForm">

<input placeholder="Full Name" id="name" required>
<br><br>

<input placeholder="Phone Number" id="phone" required>
<br><br>

<select id="gov" required>
<option value="">Governorate</option>
<option value="Giza">Giza</option>
<option value="Cairo">Cairo</option>
</select>
<br><br>

<select id="area" required>
<option value="">Area</option>
</select>
<br><br>

<textarea placeholder="Full Address" id="address" required></textarea>
<br><br>

<input placeholder="Building / Villa Number" id="building" required>
<br><br>

<input placeholder="Apartment Number" id="apartment" required>
<br><br>

<input value="E-Wallet Only" readonly>
<br><br>

<p style="display:flex;align-items:center;gap:10px;">
<img src="e.png" width="22">
01144108775
</p>

<br>

<input type="file" required>
<br><br>

<p id="shipping"></p>

<button>Confirm Order</button>

</form>

<div id="thanksBox"></div>

</div>
</div>

<script>

/* الساعة */
setInterval(()=>{
const d=new Date();
clock.innerText=d.toLocaleTimeString();
},1000);

/* المنتجات */
const products=[
{name:"T-shirt 99",price:650,img:"T.png"},
{name:"Sweet Pants 99",price:750,img:"Sweet.png"}
];

let cart=[];
let currentProduct=null;
let selectedSize="";
let selectedColor="";

const productsContainer=document.getElementById("products");

products.forEach(p=>{
const div=document.createElement("div");
div.className="card";
div.innerHTML=`
<img src="${p.img}">
<h3>${p.name}</h3>
<p>${p.price} EGP</p>
<button onclick="openProduct('${p.name}',${p.price})">Select</button>
`;
productsContainer.appendChild(div);
});

function openProduct(name,price){
currentProduct={name,price};
productName.innerText=name;
productModal.style.display="flex";
}

document.querySelectorAll(".size-btn").forEach(b=>{
b.onclick=()=>selectedSize=b.innerText;
});

document.querySelectorAll(".color-btn").forEach(b=>{
b.onclick=()=>selectedColor=b.classList.contains("black")?"Black":"White";
});

addToCart.onclick=()=>{
cart.push({...currentProduct,size:selectedSize,color:selectedColor});
renderCart();
productModal.style.display="none";
};

function renderCart(){
cartItems.innerHTML="";
let total=0;
cart.forEach(i=>{
total+=i.price;
cartItems.innerHTML+=`<p>${i.name} - ${i.size} - ${i.color}</p>`;
});
document.getElementById("total").innerText=total;
}

/* فتح التشيك اوت */
checkoutBtn.onclick=()=>{
checkoutModal.style.display="flex";
};

/* المناطق */
const areas={
Giza:["6th of October","El Shikh Zayed","El Zamalek","El Agouza","El Dokki","Embaba","Bolaq El Dakrour","Bolaq Abu El Ella"],
Cairo:["Tgamoo","Nasr City","Maadi"]
};

gov.onchange=()=>{
area.innerHTML='<option value="">Area</option>';
areas[gov.value].forEach(a=>{
let opt=document.createElement("option");
opt.textContent=a;
area.appendChild(opt);
});
};

/* سعر التوصيل */
gov.addEventListener("change",()=>{
let ship=gov.value==="Giza"?50:75;
shipping.innerText="Shipping: "+ship+" EGP";
});

/* ارسال واتساب */
checkoutForm.onsubmit=(e)=>{
e.preventDefault();

let ship=gov.value==="Giza"?50:75;
let total=cart.reduce((s,i)=>s+i.price,0)+ship;

let msg=`New Order - 99 Store
Name: ${name.value}
Phone: ${phone.value}
Governorate: ${gov.value}
Area: ${area.value}
Address: ${address.value}
Building: ${building.value}
Apartment: ${apartment.value}

Products:
`;

cart.forEach(p=>{
msg+=`${p.name} - ${p.size} - ${p.color} - ${p.price} EGP
`;
});

msg+=`
Shipping: ${ship}
Total: ${total} EGP
`;

const number="201142479550";
window.open(`https://wa.me/${number}?text=${encodeURIComponent(msg)}`);

/* رسالة الشكر */
thanksBox.innerHTML=`
<div class="thanks">
<img src="3d.png">
<p>Thank you for your trust in 99</p>
</div>
`;

cart=[];
renderCart();
};

</script>

</body>
</html>
