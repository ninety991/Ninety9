<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Checkout - Ninety9</title>

<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">

<style>

body{
margin:0;
font-family:Poppins;
background:url("2d.png") center/cover no-repeat fixed;
color:white;
display:flex;
justify-content:center;
align-items:center;
min-height:100vh;
}

.checkoutCard{
background:#111;
padding:30px;
border-radius:20px;
width:420px;
box-shadow:0 0 30px rgba(255,255,255,0.2);
animation:fade .6s ease;
}

@keyframes fade{
from{opacity:0; transform:translateY(30px)}
to{opacity:1; transform:translateY(0)}
}

h2{
text-align:center;
margin-bottom:20px;
}

.item{
display:flex;
justify-content:space-between;
margin-bottom:8px;
}

.totalBox{
margin-top:15px;
padding-top:10px;
border-top:1px solid #444;
}

select,input{
width:100%;
padding:10px;
border-radius:10px;
border:none;
margin-top:10px;
font-size:14px;
}

.checkbox{
margin-top:15px;
display:flex;
gap:8px;
align-items:center;
font-size:14px;
}

.buy{
width:100%;
margin-top:20px;
padding:14px;
border:none;
border-radius:12px;
background:silver;
font-size:16px;
font-weight:700;
cursor:pointer;
transition:.3s;
}

.buy:hover{
background:white;
transform:scale(1.03);
}

.phoneBox{
display:flex;
align-items:center;
gap:10px;
margin-top:10px;
}

.phoneBox img{
width:28px;
}

</style>
</head>

<body>

<div class="checkoutCard">

<h2>Your Order</h2>

<div id="items"></div>

<div class="totalBox">
Subtotal: <span id="subtotal">0</span> EGP
<br>
Delivery: <span id="delivery">0</span> EGP
<br>
<h3>Total: <span id="total">0</span> EGP</h3>
</div>

<select id="city" onchange="calcDelivery()">
<option value="">Choose Governorate</option>
<option value="giza">Giza</option>
<option value="cairo">Cairo</option>
</select>

<div class="phoneBox">
<img src="e.png">
<input type="text" placeholder="Phone Number">
</div>

<div class="checkbox">
<input type="checkbox" id="agree">
<label>I agree to terms & conditions</label>
</div>

<button class="buy" onclick="buyNow()">Buy Now</button>

</div>

<script>

let cart = JSON.parse(localStorage.getItem("cart")) || [];

let subtotal = 0;
let delivery = 0;

function renderItems(){
let itemsDiv = document.getElementById("items");

cart.forEach(item=>{
let div = document.createElement("div");
div.className="item";
div.innerHTML = `<span>${item.name}</span> <span>${item.price}</span>`;
itemsDiv.appendChild(div);
subtotal += item.price;
});

document.getElementById("subtotal").innerText=subtotal;
updateTotal();
}

function calcDelivery(){
let city=document.getElementById("city").value;

if(city==="giza"){
delivery=75;
}else if(city==="cairo"){
delivery=100;
}else{
delivery=0;
}

document.getElementById("delivery").innerText=delivery;
updateTotal();
}

function updateTotal(){
document.getElementById("total").innerText=subtotal + delivery;
}

function buyNow(){

if(cart.length===0){
alert("Cart is empty");
return;
}

if(!document.getElementById("agree").checked){
alert("You must agree to terms");
return;
}

alert("Order placed successfully ðŸ”¥");

localStorage.removeItem("cart");
window.location.href="index.html";

}

renderItems();

</script>

</body>
  </html>
